<!doctype html><html lang=zh-cn><meta charset=utf-8><meta name=generator content="Hugo 0.64.0"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=color-scheme content="light dark"><meta name=supported-color-schemes content="light dark"><meta name=keywords content="Hackintosh"><meta name=description content="本文沒有要具體的教如何配置，只把過程有比較需要注意的事項記錄下來。"><title>opencore 引導黑蘋果10.15紀錄&nbsp;&ndash;&nbsp;WTFSec</title><link rel=stylesheet href=//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.2/build/styles/github-gist.min.css><link rel=stylesheet href=/css/core.min.58bc4672a8045a0810ba4ad30a08c6d5589db1109ca0aa2e07c5e5438201ea8d11642ffa31d8ee7665d6a1b66ab9a3c5.css integrity=sha384-WLxGcqgEWggQukrTCgjG1VidsRCcoKouB8XlQ4IB6o0RZC/6MdjudmXWobZquaPF><meta name=twitter:card content="summary"><meta name=twitter:title content="opencore 引導黑蘋果10.15紀錄"><body><section id=header><div class="header wrap"><span class="header left-side"><a class="site home" href=/><span class="site name">WTFSec</span></a></span>
<span class="header right-side"><div class="nav wrap"><nav class=nav><a class="nav item" href=/categories/>分类</a><a class="nav item" href=/tags/>标签</a><a class="nav item" href=/link/>友链</a>
<input placeholder="Google 站内搜索" id=search_input style=width:150px>
<button onclick=search()><svg width="13" height="13" viewBox="0 0 13 13"><path d="m4.8495 7.8226c.82666.0 1.5262-.29146 2.0985-.87438.57232-.58292.86378-1.2877.87438-2.1144.010599-.82666-.28086-1.5262-.87438-2.0985-.59352-.57232-1.293-.86378-2.0985-.87438-.8055-.010599-1.5103.28086-2.1144.87438-.60414.59352-.8956 1.293-.87438 2.0985.021197.8055.31266 1.5103.87438 2.1144.56172.60414 1.2665.8956 2.1144.87438zm4.4695.2115 3.681 3.6819-1.259 1.284-3.6817-3.7.0019784-.69479-.090043-.098846c-.87973.76087-1.92 1.1413-3.1207 1.1413-1.3553.0-2.5025-.46363-3.4417-1.3909s-1.4088-2.0686-1.4088-3.4239.4696-2.4966 1.4088-3.4239c.9392-.92727 2.0864-1.3969 3.4417-1.4088 1.3553-.011889 2.4906.45771 3.406 1.4088.9154.95107 1.379 2.0924 1.3909 3.4239.0 1.2126-.38043 2.2588-1.1413 3.1385l.098834.090049z"/></svg></button></nav></div><script>function search(){const search_value=document.getElementById("search_input").value;if(search_value!==''){window.open("/search/?q="+search_value,"_blank");}}
document.getElementById("search_input").addEventListener("keydown",function(e){if(e.key==="Enter"){search()}});</script></span></div></section><section id=content><div class=article-container><section class="article header"><h1 class="article title">opencore 引導黑蘋果10.15紀錄</h1><p class="article date"><span class=lang><a>3374575857</a> </span>Saturday, February 29, 2020</p></section><article class="article markdown-body"><p>本文沒有要具體的教如何配置，只把過程有比較需要注意的事項記錄下來。</p><h2 id=推薦需求>推薦需求</h2><ul><li>一個可用的mac系統</li><li>AMD免驅動顯卡</li><li>Intel CPU</li><li>一個可以英翻中的瀏覽器</li></ul><h2 id=推薦教程>推薦教程</h2><p><a href="https://blog.xjn819.com/?p=543" target=_blank>使用OpenCore引导黑苹果</a></p><p><a href=https://blog.daliansky.net/OpenCore-BootLoader.html target=_blank>精解OpenCore</a></p><p><a href=https://github.com/acidanthera/OpenCorePkg/blob/master/Docs/Configuration.pdf target=_blank>OpenCore 官方文檔</a></p><p><a href=https://khronokernel-2.gitbook.io/opencore-vanilla-desktop-guide/ target=_blank>Opencore Vanilla Desktop Guide</a></p><p>強烈推薦以<a href=https://khronokernel-2.gitbook.io/opencore-vanilla-desktop-guide/ target=_blank>Opencore Vanilla Desktop Guide</a>為主，xjn大佬的<a href="https://blog.xjn819.com/?p=543" target=_blank>使用OpenCore引导黑苹果</a>為輔，兩個教程搭配食用。</p><h2 id=我的配置>我的配置</h2><p>cpu：intel i5 4590</p><p>主板：asus B85M-G</p><p>顯卡：GT730 2G</p><p><img src=https://cdn.wtfsec.org/img/20200229002.png alt></p><p>自用efi:<a href=https://github.com/3374575857/i5-4590-B85M-gt730-hackintosh target=_blank>github</a></p><hr><h2 id=必要軟件>必要軟件</h2><ul><li><a href=https://github.com/acidanthera/OpenCorePkg/releases target=_blank>OpenCore</a>:OpenCore主程序</li><li><a href=https://github.com/corpnewt/ProperTree target=_blank>ProperTree</a>:修改配置文件用</li><li><a href=https://github.com/corpnewt/MountEFI target=_blank>MountEFI</a>:掛載efi分區</li><li><a href=https://github.com/acidanthera/MaciASL/releases target=_blank>MaciASL</a>:提取DSDT以及編譯DSDT</li><li><a href=https://www.tonymacx86.com/threads/release-hackintool-v2-8-6.254559/ target=_blank>Hackintool</a>:USB訂製、尋找硬件地址&mldr;等</li><li>必要的efi kext文件</li></ul><h2 id=開工>開工</h2><p><b>強烈建議先在當前主機上配置一個clover引導的黑蘋果(<a href=https://blog.daliansky.net/MacOS-installation-tutorial-XiaoMi-Pro-installation-process-records.html target=_blank>黑果小兵的安裝教程</a>)臨時使用，配置完opencore再將引導替換成opencore的即可。</b></p><p>首先打開<a href=https://khronokernel-2.gitbook.io/opencore-vanilla-desktop-guide/ target=_blank>Opencore Vanilla Desktop Guide</a>這份教程開始閱讀，花點時間先大概地看過一遍，看完之後就可以按照他的方法開始配置config.plist，有不明白的部分就去翻閱xjn大佬的<a href="https://blog.xjn819.com/?p=543" target=_blank>使用OpenCore引导黑苹果</a>再不行就看黑果小兵的<a href=https://blog.daliansky.net/OpenCore-BootLoader.html target=_blank>精解OpenCore</a>，每個作者都有不太一樣的詮釋，截長補短的效果顯著。</p><h3 id=小技巧>小技巧</h3><p>使用ProperTree編輯配置文件可以在鍵盤上按 <code>Cmd/Ctrl + Shift + R</code> 然後指向配置好的oc目錄，他就會幫你自動填入對應ACPI、efi、kext的設定，並刪除官方默認添加沒有使用的ACPI、efi、kext設定。</p><p>（如圖，不但自動填上了還按優先級排了序）</p><p><img src=https://cdn.wtfsec.org/img/20200229003.png alt></p><h3 id=聲卡注入>聲卡注入</h3><p>這部分注入聲卡推薦閱讀xjn的<code>2.3.1 声卡</code>部分，要清楚的多。</p><p>這裡還有一個要注意的點，聲卡信息可能不只一個，要注意看清楚不要填錯了，我開始在弄的時候沒仔細看，看到是聲卡的就直接寫上去了，殊不知填到的是顯卡部分的聲卡地址，回去排查的時候才發現。</p><p><img src=https://cdn.wtfsec.org/img/20200229001.png alt></p><h3 id=開啟高效小睡小憩自動喚醒>開啟高效小睡(小憩)自動喚醒</h3><p>如果啟用了原生電源管理並且節能設定中勾上了高效小睡(小憩)必須啟用這個官方的補丁，不然會有睡眠自動喚醒的問題。</p><p>Kernel -> Patch -> 0 -> Disable RTC wake scheduling</p><p>Enabled -> True</p><p><img src=https://cdn.wtfsec.org/img/2020022900004.png alt></p><h3 id=定製usb接口>定製USB接口</h3><p>推薦閱讀<a href=https://selfishluck.top/2020/02/19/Hackintools%e5%ae%9a%e5%88%b6USB%e9%a9%b1%e5%8a%a8%ef%bc%88OpenCore%ef%bc%89/ target=_blank>這篇</a>，其實也沒這麼麻煩
直接在配置文件中啟用這個
<code>Kernel -> Quirks -> XhciPortLimit -> True</code></p><p>然後重啟電腦並使用這個配置文件的opencore引導開機，打開hackintool的USB部分</p><p><img src=https://cdn.wtfsec.org/img/20200229005.png alt></p><p>會看到所有的usb接口，識別到的是綠的，然後拿著<code>2.0</code> <code>3.0</code>的USB在電腦上挨個插，把看得到的洞都插完了之後在把不是綠的刪幾個掉，直到總數是15個以內。然後把長年插著的及常用的usb口設定為內置(Internal)，這樣可以解決一部份進入睡眠而自動喚醒的問題。</p><p>都設定完了之後就可以右下角導出配置文件</p><p><img src=https://cdn.wtfsec.org/img/20200229006.png alt></p><p>配置文件會自動幫你存在桌面</p><p><img src=https://cdn.wtfsec.org/img/20200229007png.png alt></p><p>把<code>USBPorts.kext</code> 複製到opencore對應的目錄(<code>efi/oc/Kexts</code>)中，並且在配置文件中引入這個kext文件。</p><p><img src=https://cdn.wtfsec.org/img/20200308200859.png alt></p><p>最後再把剛設定的15端口補丁設置為False <code>Kernel -> Quirks -> XhciPortLimit -> False</code>
存檔重新開機就好了。</p><p>我提供的教學文中說要引入<code>USBPower.kext</code>才能使用，本人親測不引入也能使用。</p><h3 id=注入三碼>注入三碼</h3><p>使用icloud 及 imessage 相關功能需要使用。</p><p><a href=https://khronokernel-2.gitbook.io/opencore-vanilla-desktop-guide/extras/iservices target=_blank>教程</a></p><p>日後更新補充。</p><h2 id=後記>後記</h2><p>本人也是第一次配置黑蘋果，硬著頭皮耐著性子的把<a href=https://khronokernel-2.gitbook.io/opencore-vanilla-desktop-guide/ target=_blank>Opencore Vanilla Desktop Guide</a>看完了，開始看的時候思緒特別的亂，實際操作搭配著<a href="https://blog.xjn819.com/?p=543" target=_blank>使用OpenCore引导黑苹果</a>去配置的時候會發現沒有作者們寫得這麼麻煩。也就幾個True False點點就好了，需要特別填寫修改的部分我上面大概都列出來了，如果有缺漏的以後再補上。</p><hr><p>系統版本：macOS Catalina 10.15.3</p><p>OpenCore 版本：0.5.5</p><p>HD Graphics 4600：本人電腦的壞了，沒測試。</p><p>GT730：正常。原生驅動。注意：gt730 僅支持開普勒架構的。</p><p>3.5mm聲音：正常使用，使用AppleALC驅動。 DeviceProperties -> Add -> PciRoot(0x0)/Pci(0x1B,0x0) -> layout-id注入ID 07000000。</p><p>有線網卡：正常。使用了kexts/IntelMausi.kext</p><p>睡眠喚醒：正常。</p><p>關機開機：正常。</p><p>iCloud & App Store & iMessage & FaceTime：請自行生成MLB、 ROM、SystemSerialNumber、SystemUUID，並相應的修改PlatformInfo -> Generic。</p></article><section class="article labels"><a class=category href=/categories/%E5%8E%9F%E5%88%9B/>原创</a><a class=tag href=/tags/hackintosh/>Hackintosh</a></section></div><div class="article bottom"><section class="article navigation"><p><a class=link href=/posts/xss-hunter%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/><span class=li>&larr;</span>XSS Hunter平台搭建记录</a></p><p><a class=link href=/posts/%E6%8F%90%E5%8F%96%E5%B8%A6%E5%90%8E%E9%97%A8%E7%A0%B4%E8%A7%A3%E5%BA%94%E7%94%A8%E7%9A%84%E6%BA%90%E7%A8%8B%E5%BA%8F/><span class=li>&rarr;</span>提取带后门破解应用的源程序</a></p></section></div></section><section id=footer><div class=footer-wrap><p class=copyright>©2014-2020 WTFSec.</p><p class=powerby><span>Powered by </span><a href=https://gohugo.io target=_blank>Hugo</a><span> and the </span><a href=https://themes.gohugo.io/hugo-notepadium/ target=_blank>Notepadium</a></p><p class=powerby><span>CDN by </span><a href=https://cf.wtfsec.org target=_blank>Cloudflare</a><span> and </span><a href="https://console.upyun.com/register/?invite=H1xhvqTVV" target=_blank>又拍云</a></p></div></section><script src=//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.2/build/highlight.min.js></script><script>hljs.initHighlightingOnLoad();</script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-83215806-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script data-ad-client=ca-pub-4220670081232153 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></body></html>